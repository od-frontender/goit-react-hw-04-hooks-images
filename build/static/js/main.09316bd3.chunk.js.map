{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/ErrorMessage/ErrorMessage.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","services/api.js","components/ErrorMessage/ErrorMessage.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","ImageGalleryItem","handleClickImage","e","props","openModal","target","dataset","large","this","webformatURL","largeImageURL","tags","className","s","onClick","src","alt","ImageGalleryItem_image","React","Component","ImageGallery","images","map","id","Searchbar","onSubmit","useState","imageName","setImageName","SearchForm","event","preventDefault","trim","toast","error","type","SearchForm_button","SearchForm_button_label","SearchForm_input","placeholder","onChange","currentTarget","value","toLowerCase","API_KEY","URL","api","fetchImage","query","page","fetch","then","response","json","ErrorMessage","message","text","Button","modalRoot","document","querySelector","Modal","onKeyDown","code","onClose","onBackdropClick","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","searchQuery","setSearchQuery","setImages","setPage","setError","showModal","setShowModal","total","setTotal","largeURL","setLargeURL","status","setStatus","useEffect","a","hits","prevImgame","renderImages","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","url","color","height","width","prevPage","autoClose","ReactDOM","render"],"mappings":"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","file":"static/js/main.09316bd3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1P7Nb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"ErrorMessage_text__aP9ZG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3eKQ3\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3u-rY\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__5zUwS\",\"SearchForm_input\":\"Searchbar_SearchForm_input__11BIx\",\"SearchForm-input\":\"Searchbar_SearchForm-input__j6qzO\"};","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nclass ImageGalleryItem extends React.Component {\n  handleClickImage = (e) => {\n    this.props.openModal(e.target.dataset.large);\n  };\n\n  render() {\n    const { webformatURL, largeImageURL, tags = \"image\" } = this.props;\n\n    return (\n      <li className={s.ImageGalleryItem}>\n        <img\n          onClick={this.handleClickImage}\n          src={webformatURL}\n          alt={tags}\n          className={s.ImageGalleryItem_image}\n          data-large={largeImageURL}\n        />\n      </li>\n    );\n  }\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => {\n          return (\n            <ImageGalleryItem\n              key={id}\n              webformatURL={webformatURL}\n              openModal={openModal}\n              largeImageURL={largeImageURL}\n              tags={tags}\n            />\n          );\n        })}\n      </ul>\n    </>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\nimport { toast } from 'react-toastify';\n\nfunction Searchbar({ onSubmit }) {\n  const [imageName, setImageName] = useState('');\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (imageName.trim() === '') {\n      toast.error('Please, enter picture name');\n      return;\n    }\n    onSubmit(imageName);\n    setImageName('');\n  };\n\n  const handleNameChange = event => {\n    setImageName(event.currentTarget.value.toLowerCase());\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchForm_button}>\n          <span className={s.SearchForm_button_label}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchForm_input}\n          type=\"text\"\n          // autocomplete=\"off\"\n          // autofocus\n          placeholder=\"Search images and photos\"\n          onChange={handleNameChange}\n          value={imageName}\n        />\n      </form>\n    </header>\n  );\n}\nexport default Searchbar;\n","const API_KEY = \"23033623-b70795456acd26c564a94f9ff\";\nconst URL = \"https://pixabay.com/api/\";\n\nconst fetchImage = (query, page = 1) => {\n  return fetch(\n    `${URL}/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    return response.json();\n  });\n};\nconst api = {\n  fetchImage,\n};\nexport default api;\n","import PropTypes from \"prop-types\";\nimport s from \"./ErrorMessage.module.css\";\n\nconst ErrorMessage = ({ message }) => {\n  return <p className={s.text}>{message}</p>;\n};\n\nErrorMessage.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default ErrorMessage;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => (\n  <button className={s.Button} type=\"button\" onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  onKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  onBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div onClick={this.onBackdropClick} className={s.Overlay}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport ImageGallery from './components/ImageGallery';\nimport Searchbar from './components/Searchbar';\nimport api from './services/api';\nimport ErrorMessage from './components/ErrorMessage';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nfunction App() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(null);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [total, setTotal] = useState(null);\n  const [largeURL, setLargeURL] = useState('');\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    async function renderImages(searchQuery, page) {\n      await api.fetchImage(searchQuery, page).then(({ hits, total }) => {\n        if (page === 1) {\n          setImages([...hits]);\n        } else {\n          setImages(prevImgame => [...prevImgame, ...hits]);\n        }\n        setTotal(total);\n        setStatus('resolved');\n        if (!total) {\n          setError('No results found');\n          setStatus('rejected');\n        } else {\n          setError(null);\n        }\n      });\n    }\n    setStatus('pending');\n    renderImages(searchQuery, page);\n  }, [searchQuery, page]);\n\n  useEffect(() => {\n    if (page > 1) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  });\n\n  const handleFormSubmit = searchQuery => {\n    setSearchQuery(searchQuery);\n    setPage(1);\n  };\n  const handleIncrement = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n  const toggleModal = url => {\n    setShowModal(!showModal);\n    setLargeURL(url);\n  };\n\n  return (\n    <>\n      <div className=\"App\">\n        <Searchbar onSubmit={handleFormSubmit} />\n\n        {status === 'rejected' && <ErrorMessage message={error} />}\n\n        <ImageGallery images={images} openModal={toggleModal} />\n\n        {status === 'pending' && (\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n\n        {total > 12 && status === 'resolved' && (\n          <Button onClick={handleIncrement} />\n        )}\n\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={largeURL} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}