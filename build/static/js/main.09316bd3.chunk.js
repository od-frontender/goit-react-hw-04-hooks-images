(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3CvRl",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1P7Nb"}},17:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},20:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},21:function(e,t,a){e.exports={text:"ErrorMessage_text__aP9ZG"}},22:function(e,t,a){e.exports={Button:"Button_Button__3R1xi"}},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchForm_button:"Searchbar_SearchForm_button__3eKQ3","SearchForm-button":"Searchbar_SearchForm-button__3u-rY",SearchForm_button_label:"Searchbar_SearchForm_button_label__5zUwS",SearchForm_input:"Searchbar_SearchForm_input__11BIx","SearchForm-input":"Searchbar_SearchForm-input__j6qzO"}},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),l=(a(27),a(15)),s=a.n(l),i=a(13),u=a(18),m=a(3),b=a(11),j=(a(29),a(30),a(19)),h=a.n(j),p=a(8),d=a(9),O=a(12),f=a(10),g=a(16),_=a.n(g),S=a(1),v=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClickImage=function(t){e.props.openModal(t.target.dataset.large)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.webformatURL,a=e.largeImageURL,n=e.tags,r=void 0===n?"image":n;return Object(S.jsx)("li",{className:_.a.ImageGalleryItem,children:Object(S.jsx)("img",{onClick:this.handleClickImage,src:t,alt:r,className:_.a.ImageGalleryItem_image,"data-large":a})})}}]),a}(r.a.Component),x=v,y=a(20),I=a.n(y),w=function(e){var t=e.images,a=e.openModal;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("ul",{className:I.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL,c=e.tags;return Object(S.jsx)(x,{webformatURL:n,openModal:a,largeImageURL:r,tags:c},t)}))})})},k=a(5),F=a.n(k);var C=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(m.a)(a,2),c=r[0],o=r[1];return Object(S.jsx)("header",{className:F.a.Searchbar,children:Object(S.jsxs)("form",{className:F.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):b.b.error("Please, enter picture name")},children:[Object(S.jsx)("button",{type:"submit",className:F.a.SearchForm_button,children:Object(S.jsx)("span",{className:F.a.SearchForm_button_label,children:"Search"})}),Object(S.jsx)("input",{className:F.a.SearchForm_input,type:"text",placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase())},value:c})]})})},N="23033623-b70795456acd26c564a94f9ff",G="https://pixabay.com/api/",M={fetchImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(G,"/?q=").concat(e,"&page=").concat(t,"&key=").concat(N,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}))}},L=M,B=a(21),D=a.n(B),R=function(e){var t=e.message;return Object(S.jsx)("p",{className:D.a.text,children:t})},U=a(22),E=a.n(U),T=function(e){var t=e.onClick;return Object(S.jsx)("button",{className:E.a.Button,type:"button",onClick:t,children:"Load more"})},q=a(17),A=a.n(q),K=document.querySelector("#modal-root"),P=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.onBackdropClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(S.jsx)("div",{onClick:this.onBackdropClick,className:A.a.Overlay,children:Object(S.jsx)("div",{className:A.a.Modal,children:this.props.children})}),K)}}]),a}(n.Component),z=P;var J=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(m.a)(c,2),l=o[0],j=o[1],p=Object(n.useState)(null),d=Object(m.a)(p,2),O=d[0],f=d[1],g=Object(n.useState)(null),_=Object(m.a)(g,2),v=_[0],x=_[1],y=Object(n.useState)(!1),I=Object(m.a)(y,2),k=I[0],F=I[1],N=Object(n.useState)(null),G=Object(m.a)(N,2),M=G[0],B=G[1],D=Object(n.useState)(""),U=Object(m.a)(D,2),E=U[0],q=U[1],A=Object(n.useState)("idle"),K=Object(m.a)(A,2),P=K[0],J=K[1];Object(n.useEffect)((function(){function e(){return e=Object(u.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.fetchImage(t,a).then((function(e){var t=e.hits,n=e.total;j(1===a?Object(i.a)(t):function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))}),B(n),J("resolved"),n?x(null):(x("No results found"),J("rejected"))}));case 2:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}a&&(J("pending"),function(t,a){e.apply(this,arguments)}(a,O))}),[a,O]),Object(n.useEffect)((function(){O>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}));var W=function(e){F(!k),q(e)};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(C,{onSubmit:function(e){r(e),f(1)}}),"rejected"===P&&Object(S.jsx)(R,{message:v}),Object(S.jsx)(w,{images:l,openModal:W}),"pending"===P&&Object(S.jsx)(h.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80}),M>12&&"resolved"===P&&Object(S.jsx)(T,{onClick:function(){f((function(e){return e+1}))}}),k&&Object(S.jsx)(z,{onClose:W,children:Object(S.jsx)("img",{src:E,alt:""})})]}),Object(S.jsx)(b.a,{autoClose:3e3})]})};a(52);o.a.render(Object(S.jsx)(J,{}),document.querySelector("#root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.09316bd3.chunk.js.map